## **Finding Lane Lines on the Road**
---
The goal is to develop a pipeline to identify lane lines on the road for a series of images and then extend this to apply to a video stream. Please find the final output videos in the `test_videos_output` folder.

---

[//]: # (Image References)

[image1]: ./examples/gray.jpg "Grayscale"
[image2]: ./examples/Gaussian.jpg "Gaussian"
[image3]: ./examples/canny.jpg "Canny"
[image4]: ./examples/masked.jpg "Masked"
[image5]: ./examples/hough.jpg "Hough"
[image6]: ./examples/merged.jpg "Merged"
[image7]: ./examples/modified_hough.jpg "modified_hough"
[image8]: ./examples/merged_modified.jpg "merged_modified"

### My Pipeline:

1. The raw image is read and converted to a grayscale image using `grayscale()`. A gaussian blur is applied to the grayscale image to reduce noise using `gaussian_blur()` with a `kernel_size` of `5`.

    grayscale image:

    ![][image1]

    Gaussian Blurred image:

    ![][image2]


2.  To the blurred image, we apply canny transform to detect strong edges by taking pixels in the threshold range using `canny()`. The thresholds take are `min_threshold = 50` and `max_threshold = 150`.

    Canny Transform Applied image:

    ![][image3]

3. We mask the above image for a desired region of interest by defining the `vertices` using `get_vertices` for `region_of_interest()`.

    Masked Image:

    ![][image4]

4. To generate lines from the edges in `canny_img`, we apply hough transfrom to the masked image using `hough_lines()`. The parameters given are `rho = 1` (distance of the line from the origin), `theta = pi/180` (resolution for grid points in hough space), `threshold = 35` (minimum number of votes for a grid cell to have), `min_line_len = 15` (minimum line lenght to be considered) and `max_line_gap = 15` (maximum distance to be considered to allow for connecting as a single line). Now, we merge the `hough_img` with our raw image.

    Hough line transform applied image:

    ![][image5]

    Merged image:

    ![][image6]

    *** Note: The `draw_lines()` function is modified to average/extrapolate the lines obtained from hough_lines to make a unified left and right lane. ***

    `modified_draw_lines()` consists of the following changes:

    * For each coordinate pair in the line segment generated by hough transform, we calculate `slope` and `center_point`.
    * By defining `limits` for the `slopes`, we group the slopes and `center_points` as left lane and right lane slopes.
    * We find the average of the slopes and center points for both the groups and find the intercept of both the lines using the averaged `slope` and `center_point`.
    * The coordinates for the points required to define the left and right lanes are calculated using the `slopes` and `intercepts`.
    * We draw the two lanes on to a blank image and return the line image. This is merged with the original raw_image.

    Hough line transform applied image with `modified_draw_lines`:

    ![][image7]

    Merged image:

    ![][image8]






The same pipeline is applied to a video (stream of images) and the output is saved to `test_videos_output` folder.







### 2. Potential shortcomings


* Depending on the lighting conditions on the road, the threshold levels need to be tweaked.

* If there is a vehicle in the adjacent lanes, the extrapolation would not be effective

* For curvy roads, the straight line extrapolation would not work.

### 3. Possible improvements

* In the case of `challenge` video, when there is a change in the road lighting conditions, the pipleine can be improved by tweaking the parameters for the slope values to be considered in the `modified_draw_lines` and the threshold levels.
